# Создание дистрибутива ОС для WSL2 из любого Docker образа.

На работе, ввиду неких причин, сталкиваться с Linux приходится только в виде RHEL.
По этой причине для прокачки скилов хотелось бы иметь нечто подобное на домашнем компе.
Идея в том чтоб взять докер образ 7-го центоса и создать из него всл дистрибутив,
это не аутентично конечно, но для прокачки скилов и привыканию к пакетному менеджеру достаточно.

## Требования
* ОС Windows 10+
* Docker Desktop
* WSL2

## Процесс

1. Качаем докер образ и создаём контейнер:
```
docker pull centos:centos7
docker create --name rhel7 centos:centos7
```
2. Экспортируем содержимое контейнера в tar-архив
```
docker export rhel7 -o rhel7.tar
```
3. Создаём каталог для виртуального диска нашего нового дистрибутива
и импортируем в виртуальный образ
```
if not exist C:\wslDistroStorage\rhel7 md C:\wslDistroStorage\rhel7
wsl --import rhel7 C:\wslDistroStorage\rhel7 .\rhel7.tar
```

4. Убедимся что новый дистрибутив появисля в списке WSL и запстим его.
```
wsl -l -v
wsl -d rhel7
```

5. Докерные образ и контейнер и tar-архив больше не нужны
```
docker rm rhel7
docker rmi centos:centos7
del .\rhel7.tar
```
6. Виртуальный диск `C:\wslDistroStorage\rhel7\ext4.vhdx` можно теперь бакапить.
 